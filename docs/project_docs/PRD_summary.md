# 소개팅 웹앱 PRD 요약 (v1.0)

본 문서는 프로젝트 요구사항 명세서(작업서.txt)에서 가장 핵심적인 내용을 발췌해
요약한 자료입니다. 원본 문서는 매우 상세하므로, 전체 맥락을 빠르게 파악하고자
할 때 이 요약본을 참고하세요.

## 제품 개요

소개팅 앱의 가입 과정에서 신뢰할 수 있는 공개/비공개 프로필과 선호도 정보를
수집하고, 이를 기반으로 정교한 매칭 서비스를 제공하는 것이 목적입니다. 앱은
네 개의 주요 원칙을 따릅니다: (1) 공개/비공개 구획을 명확히 고지하고,
(2) 비공개 영역은 최소 필수 + 선택 확장으로 구성하며, (3) 사용자가 선호도
Top N을 설정하면 선택 수에 따라 가중치가 자동으로 조정되고,
(4) 월별 가입코드를 자동으로 발급하여 운영을 간소화합니다【504303874197542†L14-L24】.

## 사용자 롤과 권한

- **게스트**는 랜딩 페이지와 로그인 화면만 사용할 수 있습니다.
- **회원**은 가입 과정에서 공개/비공개 설문을 작성하고 선호도를 설정하여
  매칭 대기 및 탐색을 할 수 있습니다【504303874197542†L21-L31】。
- **운영자(Admin)**는 월별 코드 생성/조회, 추천인 통계, 신고/차단 처리,
  설문 옵션 관리 등의 기능을 수행합니다.

## 사용자 여정

가입은 Step 0부터 Step 5까지 단계적으로 진행됩니다. 이메일/패스워드 입력,
추천인과 월별 코드 입력 후 공개/비공개 설문을 작성하며, 마지막으로
선호도 Top N을 설정합니다【504303874197542†L38-L46】. 각 단계는 임시
저장과 검증 기능을 포함합니다.

## 기능 요구사항

1. **인증/가입**: 이메일+비밀번호 기반으로 회원 가입을 지원하고,
   월별 가입코드의 유효성을 검사합니다【504303874197542†L59-L62】.
2. **공개 설문**: 이름, 나이, 키, 직업, 학력, MBTI, 취미, 지역 등 기본
   정보를 수집하며, 최소 1장의 프로필 사진 업로드를 요구합니다【504303874197542†L65-L77】.
3. **비공개 설문**: 재산 수준, 외모/몸매 자신감, 성격·가치관 답변 등
   민감 정보를 선택적으로 작성할 수 있으며, 이 정보는 매칭 품질 향상에만
   사용되고 앱에 공개되지 않습니다【504303874197542†L80-L88】.
4. **선호도 Top N 랭킹**: 최대 5개까지 선호 항목을 선택하고 순위를 지정하면
   선택 수에 따라 가중치 벡터가 자동 계산됩니다【504303874197542†L92-L100】.
5. **유효성/저장**: 설문 탭을 전환할 때 임시 저장하고 필수 항목이 누락되면
   경고를 표시합니다【504303874197542†L103-L108】.
6. **관리자 기능**: 월별 가입코드 생성, 추천인 통계, 설문 옵션 마스터 관리
   등을 제공합니다【504303874197542†L109-L115】.

## 데이터 모델

데이터베이스는 공개 프로필(`profiles_public`), 비공개 설문(`profiles_private`),
선호도 랭킹(`preference_rankings`), 월별 코드(`admin_monthly_codes`), 추천인
(`referrals`) 등 테이블로 구성되어 있으며, 각 테이블의 필드와 제약이
명시되어 있습니다【504303874197542†L117-L175】. 인덱스와 제약사항을 통해
매칭 조회와 코드 검증을 효율적으로 수행합니다【504303874197542†L183-L186】.

## 매칭 알고리즘

매칭 점수는 선호도 가중치와 항목별 유사도를 곱해 합산하는 방식으로 계산하며【504303874197542†L193-L200】,
연령, 키, 지역, 직업·학력·취미, MBTI, 성격·가치관 등 다양한 요소의
유사도 함수를 정의합니다【504303874197542†L202-L207】. 보정 계수로는
Shared Bits 배지, 상호성, 대화 턴테이킹, 노출 제약 등이 있으며, 최종 점수는
이들의 합으로 결정됩니다【504303874197542†L346-L356】.

## 관리자 기능과 정책

운영자는 월별 가입코드를 자동 생성하고 발급 제한을 설정할 수 있으며【504303874197542†L219-L229】,
추천인 통계와 설문 옵션 CRUD, 로그·감사 기능 등을 통해 서비스 전반을
관리합니다【504303874197542†L389-L407】.

보안 측면에서는 Row‑Level Security(RLS), 민감 데이터 암호화, 감사 로그를
도입하여 개인정보를 보호하며【504303874197542†L233-L239】, Firebase
Auth 기반 인증과 역할 기반 접근 제어를 적용합니다【504303874197542†L645-L649】.

## UI/UX 가이드

앱은 미니멀하고 고급스러운 Instagram‑like 톤앤매너를 지향하며, 사진 중심
카드와 부드러운 애니메이션, 반응형 디자인을 적용합니다【504303874197542†L766-L782】. 디자인
토큰(컬러, 타이포그래피, 스페이싱 등)과 컴포넌트 명세가 상세히 정의되어
있어 프론트엔드 개발자가 바로 활용할 수 있습니다【504303874197542†L775-L867】.

## API 및 DB 스키마

문서에는 인증, 프로필, 코드, 매칭, 메시징, 관리자 기능 등 모든 API
엔드포인트가 정의되어 있으며 응답 포맷과 가중치 설정 방법을 설명합니다【504303874197542†L445-L488】.
또한 MariaDB 스키마 예시와 Firebase Storage 규칙, 서버리스 후처리,
인증/권한 설정, 로그/메트릭 수집 등 운영 및 관측성을 위한 세부 안내가
포함되어 있습니다【504303874197542†L497-L616】.

## 마일스톤 및 다음 단계

DB 마이그레이션, 인증 미들웨어, 프로필 CRUD, 코드 검증, 매칭 점수 계산,
관리자 페이지 구축 등 단계별 마일스톤이 제안되어 있으며【504303874197542†L287-L296】,
추가적으로 설문 항목 확정, 가중치 벡터 잠금, 관리자 정책 결정 등이 남아
있습니다【504303874197542†L337-L343】.

---

본 요약은 원본 작업서의 방대한 내용을 간결하게 파악하기 위한 자료입니다.
세부 구현 규칙과 예시는 원본 작업서를 참고하시기 바랍니다.